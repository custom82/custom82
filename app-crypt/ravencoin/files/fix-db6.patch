diff '--color=auto' -uPNr Ravencoin-4.6.1/build-aux/m4/raven_find_bdb48.m4 Ravencoin-4.6.1-patched/build-aux/m4/raven_find_bdb48.m4
--- Ravencoin-4.6.1/build-aux/m4/raven_find_bdb48.m4	2022-08-16 18:40:20.000000000 +0200
+++ Ravencoin-4.6.1-patched/build-aux/m4/raven_find_bdb48.m4	1970-01-01 01:00:00.000000000 +0100
@@ -1,79 +0,0 @@
-dnl Copyright (c) 2013-2015 The Bitcoin Core developers
-dnl Copyright (c) 2017 The Raven Core developers
-dnl Distributed under the MIT software license, see the accompanying
-dnl file COPYING or http://www.opensource.org/licenses/mit-license.php.
-
-AC_DEFUN([RAVEN_FIND_BDB48],[
-  AC_ARG_VAR(BDB_CFLAGS, [C compiler flags for BerkeleyDB, bypasses autodetection])
-  AC_ARG_VAR(BDB_LIBS, [Linker flags for BerkeleyDB, bypasses autodetection])
-
-  if test "x$BDB_CFLAGS" = "x"; then
-    AC_MSG_CHECKING([for Berkeley DB C++ headers])
-    BDB_CPPFLAGS=
-    bdbpath=X
-    bdb48path=X
-    bdbdirlist=
-    for _vn in 4.8 48 4 5 5.3 ''; do
-      for _pfx in b lib ''; do
-        bdbdirlist="$bdbdirlist ${_pfx}db${_vn}"
-      done
-    done
-    for searchpath in $bdbdirlist ''; do
-      test -n "${searchpath}" && searchpath="${searchpath}/"
-      AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
-        #include <${searchpath}db_cxx.h>
-      ]],[[
-        #if !((DB_VERSION_MAJOR == 4 && DB_VERSION_MINOR >= 8) || DB_VERSION_MAJOR > 4)
-          #error "failed to find bdb 4.8+"
-        #endif
-      ]])],[
-        if test "x$bdbpath" = "xX"; then
-          bdbpath="${searchpath}"
-        fi
-      ],[
-        continue
-      ])
-      AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
-        #include <${searchpath}db_cxx.h>
-      ]],[[
-        #if !(DB_VERSION_MAJOR == 4 && DB_VERSION_MINOR == 8)
-          #error "failed to find bdb 4.8"
-        #endif
-      ]])],[
-        bdb48path="${searchpath}"
-        break
-      ],[])
-    done
-    if test "x$bdbpath" = "xX"; then
-      AC_MSG_RESULT([no])
-      AC_MSG_ERROR([libdb_cxx headers missing, ]AC_PACKAGE_NAME[ requires this library for wallet functionality (--disable-wallet to disable wallet functionality)])
-    elif test "x$bdb48path" = "xX"; then
-      RAVEN_SUBDIR_TO_INCLUDE(BDB_CPPFLAGS,[${bdbpath}],db_cxx)
-      AC_ARG_WITH([incompatible-bdb],[AS_HELP_STRING([--with-incompatible-bdb], [allow using a bdb version other than 4.8])],[
-        AC_MSG_WARN([Found Berkeley DB other than 4.8; wallets opened by this build will not be portable!])
-      ],[
-        AC_MSG_ERROR([Found Berkeley DB other than 4.8, required for portable wallets (--with-incompatible-bdb to ignore or --disable-wallet to disable wallet functionality)])
-      ])
-    else
-      RAVEN_SUBDIR_TO_INCLUDE(BDB_CPPFLAGS,[${bdb48path}],db_cxx)
-      bdbpath="${bdb48path}"
-    fi
-  else
-    BDB_CPPFLAGS=${BDB_CFLAGS}
-  fi
-  AC_SUBST(BDB_CPPFLAGS)
-
-  if test "x$BDB_LIBS" = "x"; then
-    # TODO: Ideally this could find the library version and make sure it matches the headers being used
-    for searchlib in db_cxx-4.8 db_cxx; do
-      AC_CHECK_LIB([$searchlib],[main],[
-        BDB_LIBS="-l${searchlib}"
-        break
-      ])
-    done
-    if test "x$BDB_LIBS" = "x"; then
-        AC_MSG_ERROR([libdb_cxx missing, ]AC_PACKAGE_NAME[ requires this library for wallet functionality (--disable-wallet to disable wallet functionality)])
-    fi
-  fi
-  AC_SUBST(BDB_LIBS)
-])
diff '--color=auto' -uPNr Ravencoin-4.6.1/build-aux/m4/raven_find_bdb60.m4 Ravencoin-4.6.1-patched/build-aux/m4/raven_find_bdb60.m4
--- Ravencoin-4.6.1/build-aux/m4/raven_find_bdb60.m4	1970-01-01 01:00:00.000000000 +0100
+++ Ravencoin-4.6.1-patched/build-aux/m4/raven_find_bdb60.m4	2025-12-04 21:26:43.130770201 +0100
@@ -0,0 +1,79 @@
+dnl Copyright (c) 2013-2015 The Bitcoin Core developers
+dnl Copyright (c) 2017 The Raven Core developers
+dnl Distributed under the MIT software license, see the accompanying
+dnl file COPYING or http://www.opensource.org/licenses/mit-license.php.
+
+AC_DEFUN([RAVEN_FIND_BDB60],[
+  AC_ARG_VAR(BDB_CFLAGS, [C compiler flags for BerkeleyDB, bypasses autodetection])
+  AC_ARG_VAR(BDB_LIBS, [Linker flags for BerkeleyDB, bypasses autodetection])
+
+  if test "x$BDB_CFLAGS" = "x"; then
+    AC_MSG_CHECKING([for Berkeley DB C++ headers])
+    BDB_CPPFLAGS=
+    bdbpath=X
+    bdb60path=X
+    bdbdirlist=
+    for _vn in 6 6.0 ''; do
+      for _pfx in b lib ''; do
+        bdbdirlist="$bdbdirlist ${_pfx}db${_vn}"
+      done
+    done
+    for searchpath in $bdbdirlist ''; do
+      test -n "${searchpath}" && searchpath="${searchpath}/"
+      AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
+        #include <${searchpath}db_cxx.h>
+      ]],[ [
+        #if !((DB_VERSION_MAJOR == 6 && DB_VERSION_MINOR >= 0))
+          #error "failed to find bdb 6.0+"
+        #endif
+      ]])],[
+        if test "x$bdbpath" = "xX"; then
+          bdbpath="${searchpath}"
+        fi
+      ],[
+        continue
+      ])
+      AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[
+        #include <${searchpath}db_cxx.h>
+      ]],[[
+        #if !(DB_VERSION_MAJOR == 6 && DB_VERSION_MINOR == 0)
+          #error "failed to find bdb 6.0"
+        #endif
+      ]])],[
+        bdb60path="${searchpath}"
+        break
+      ],[])
+    done
+    if test "x$bdbpath" = "xX"; then
+      AC_MSG_RESULT([no])
+      AC_MSG_ERROR([libdb_cxx headers missing, ]AC_PACKAGE_NAME[ requires this library for wallet functionality (--disable-wallet to disable wallet functionality)])
+    elif test "x$bdb60path" = "xX"; then
+      RAVEN_SUBDIR_TO_INCLUDE(BDB_CPPFLAGS,[${bdbpath}],db_cxx)
+      AC_ARG_WITH([incompatible-bdb],[AS_HELP_STRING([--with-incompatible-bdb], [allow using a bdb version other than 6.0])],[
+        AC_MSG_WARN([Found Berkeley DB other than 6.0; wallets opened by this build will not be portable!])
+      ],[
+        AC_MSG_ERROR([Found Berkeley DB other than 6.0, required for portable wallets (--with-incompatible-bdb to ignore or --disable-wallet to disable wallet functionality)])
+      ])
+    else
+      RAVEN_SUBDIR_TO_INCLUDE(BDB_CPPFLAGS,[${bdb60path}],db_cxx)
+      bdbpath="${bdb60path}"
+    fi
+  else
+    BDB_CPPFLAGS=${BDB_CFLAGS}
+  fi
+  AC_SUBST(BDB_CPPFLAGS)
+
+  if test "x$BDB_LIBS" = "x"; then
+    # TODO: Ideally this could find the library version and make sure it matches the headers being used
+    for searchlib in db_cxx-6.0 db_cxx; do
+      AC_CHECK_LIB([$searchlib],[main],[
+        BDB_LIBS="-l${searchlib}"
+        break
+      ])
+    done
+    if test "x$BDB_LIBS" = "x"; then
+        AC_MSG_ERROR([libdb_cxx missing, ]AC_PACKAGE_NAME[ requires this library for wallet functionality (--disable-wallet to disable wallet functionality)])
+    fi
+  fi
+  AC_SUBST(BDB_LIBS)
+])
diff '--color=auto' -uPNr Ravencoin-4.6.1/configure.ac Ravencoin-4.6.1-patched/configure.ac
--- Ravencoin-4.6.1/configure.ac	2022-08-16 18:40:20.000000000 +0200
+++ Ravencoin-4.6.1-patched/configure.ac	2025-12-04 21:16:32.857334781 +0100
@@ -723,7 +723,7 @@
 
 if test x$enable_wallet != xno; then
     dnl Check for libdb_cxx only if wallet enabled
-    RAVEN_FIND_BDB48
+    RAVEN_FIND_BDB60
 fi
 
 dnl Check for libminiupnpc (optional)
